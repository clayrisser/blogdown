"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),ThemeBody=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"beforeRegister",value:function(){this.is="theme-body",this.actions={isNarrow:function(e){return function(t){t({type:IS_NARROW,payload:e})}}},this.properties={metaLoading:{type:Array,statePath:"meta.loading",observer:"progressChanged"},metaProgress:{type:Number,statePath:"meta.progress",observer:"progressChanged"},pages:{type:[],statePath:"pages"},settings:{type:Object,statePath:"settings"},meta:{type:Object,statePath:"meta"},narrow:{type:Boolean,observer:"narrowChanged"},animationConfig:{value:function(){return{entry:{name:"scale-up-animation",node:this},exit:{name:"fade-out-animation",node:this}}}}}}},{key:"ready",value:function(){this.set("indeterminateLoading",!0),this.set("socialAccounts",[]),this.set("menuItems",[]),this.loadMenuItems(),this.loadSocialAccounts()}},{key:"attached",value:function(){window.setTimeout(function(){},1e3)}},{key:"loadMenuItems",value:function(){var e=this;_.each(this.pages,function(t){t.addToMenu&&e.push("menuItems",{title:t.title,slug:t.slug})})}},{key:"loadSocialAccounts",value:function(){var e=this;_.each(this.settings.socialAccounts,function(t,n){e.push("socialAccounts",{type:n,url:t})})}},{key:"toggleDrawer",value:function(){this.$.drawer.toggle()}},{key:"closeDrawer",value:function(){this.narrow&&this.$.drawer.close()}},{key:"narrowChanged",value:function(){this.dispatch("isNarrow",this.narrow)}},{key:"progressChanged",value:function(){this.metaLoading.length>0?(this.set("loading",!0),this.set("progress",0)):this.metaProgress>0?(this.set("loading",!1),this.set("progress",this.metaProgress)):(this.set("loading",!1),this.set("progress",0))}},{key:"behaviors",get:function(){return[ReduxState,BlogdownBody,Polymer.NeonAnimationRunnerBehavior]}}]),e}();Polymer(ThemeBody);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),ThemePage=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"beforeRegister",value:function(){this.is="theme-page",this.properties={page:{type:Object,value:{}},animationConfig:{value:function(){return{entry:{name:app.getThemeSettings().pageTransition||"scale-up-animation",node:this}}}}}}},{key:"attached",value:function(){this.style.display="inline-block",this.playAnimation("entry")}},{key:"behaviors",get:function(){return[BlogdownPage,Polymer.NeonAnimationRunnerBehavior]}}]),e}();Polymer(ThemePage);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),ThemePost=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"beforeRegister",value:function(){this.is="theme-post",this.properties={authors:{type:Object,statePath:"authors"},settings:{type:Object,statePath:"settings"},animationConfig:{value:function(){return{entry:{name:app.getThemeSettings().pageTransition||"scale-up-animation",node:this}}}}}}},{key:"attached",value:function(){this.style.display="inline-block",this.playAnimation("entry")}},{key:"getAuthorDisplayName",value:function(e){return e?this.authors[e].displayName:""}},{key:"getDate",value:function(e){return e?e.format(this.settings.dateFormat):""}},{key:"behaviors",get:function(){return[BlogdownPost,ReduxState,Polymer.NeonAnimationRunnerBehavior]}}]),e}();Polymer(ThemePost);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),ThemePosts=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"beforeRegister",value:function(){this.is="theme-posts",this.properties={authors:{type:Object,statePath:"authors"},settings:{type:Object,statePath:"settings"},animationConfig:{value:function(){return{entry:{name:app.getThemeSettings().pageTransition||"scale-up-animation",node:this}}}}}}},{key:"attached",value:function(){this.style.display="inline-block",this.playAnimation("entry")}},{key:"flexDirection",value:function(e){return e%2==0?"-reverse":""}},{key:"getAuthorDisplayName",value:function(e){return e?this.authors[e].displayName:""}},{key:"getDate",value:function(e){return e?e.format(this.settings.dateFormat):""}},{key:"behaviors",get:function(){return[ReduxState,BlogdownPosts,Polymer.NeonAnimationRunnerBehavior]}}]),e}();Polymer(ThemePosts);