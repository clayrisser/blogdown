<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="page-posts">
  <template>

    <template is="dom-repeat" items="{{posts}}" as="post">
      <paper-card heading="[[post.title]]">
        <div class="card-content">[[post.summary]]</div>
        <div class="card-actions">
          <paper-button on-click="goToPost">Read More</paper-button>
        </div>
      </paper-card>
    </template>

  </template>

  <script>
    (function() {
      'use strict';
      Polymer({
        is: 'page-posts',

        ready: function() {
          app.pageTitle = 'Posts';
          this.posts = app.posts;
        },

        goToPost: function(e) {
          var model = e.model;
          app.goTo('/posts/' + model.post.permalink);
        }
      });
    })();
  </script>

</dom-module>
